# --- Compatibilidad de color ---
set -g default-terminal "tmux-256color"

# Habilitar soporte 24-bit (truecolor)
set-option -ga terminal-overrides ",xterm-256color:Tc"
set-option -ga terminal-overrides ",screen-256color:Tc"
set-option -ga terminal-overrides ",tmux-256color:Tc"

# --- Configuración de teclas tmux ---
# Alt+N: ir a ventana N si existe, o crearla (nombre e índice sincronizados)
bind -n M-1 run "tmux select-window -t 1 2>/dev/null || tmux new-window -t 1 -n 1"
bind -n M-2 run "tmux select-window -t 2 2>/dev/null || tmux new-window -t 2 -n 2"
bind -n M-3 run "tmux select-window -t 3 2>/dev/null || tmux new-window -t 3 -n 3"
bind -n M-4 run "tmux select-window -t 4 2>/dev/null || tmux new-window -t 4 -n 4"
bind -n M-5 run "tmux select-window -t 5 2>/dev/null || tmux new-window -t 5 -n 5"
bind -n M-6 run "tmux select-window -t 6 2>/dev/null || tmux new-window -t 6 -n 6"
bind -n M-7 run "tmux select-window -t 7 2>/dev/null || tmux new-window -t 7 -n 7"
bind -n M-8 run "tmux select-window -t 8 2>/dev/null || tmux new-window -t 8 -n 8"
bind -n M-9 run "tmux select-window -t 9 2>/dev/null || tmux new-window -t 9 -n 9"
bind -n M-0 run "tmux select-window -t 10 2>/dev/null || tmux new-window -t 10 -n 10"

# Recargar configuración
bind k run "source-file ~/.tmux.conf" \; display-message "Configuración recargada."

# Numeración y reorden dinámico
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on
set -g mouse on
set-option -g history-limit 1000000

# --- Barra de estado avanzada ---
set -g status-bg colour236
set -g status-fg white
set -g status-interval 1

# Izquierda: nombre de la sesión
set -g status-left '#[fg=green]#S #[fg=cyan]| '

# Derecha: fecha y hora
set -g status-right '#[fg=yellow]%Y-%m-%d #[fg=cyan]%H:%M:%S'

# Ventanas inactivas: número + comando
set -g window-status-format '#[fg=cyan]#I:#{pane_current_command} '

# Ventana activa: resaltada en verde
set -g window-status-current-format '#[fg=black,bg=green,bold] #I:#{pane_current_command} #[default]'

# Mostrar solo el número y proceso actual
set -g window-status-separator ' '
set -g window-status-activity-style fg=yellow,bg=colour236,bold

